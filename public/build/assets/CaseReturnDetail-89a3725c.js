import{u as x,s as I,r as i,n as T,q as P,b as s,j as e,v as _,w as O,P as C,L as p,x as w,T as g,t as c}from"./app-becce45d.js";import{a as R,b as S}from"./config-e6c5a715.js";const D=()=>{var u;const N=x(),{uid_retur:t}=I(),[r,f]=i.useState(null),[l,o]=i.useState(!1),d=()=>{o(!0),axios.get(`/api/case/return/detail/${t}`).then(n=>{const{data:a}=n.data;f(a),o(!1)})};i.useEffect(()=>{d()},[]);const b=()=>{axios.post("/api/case/return/reject",{uid_retur:t}).then(n=>{const{message:a}=n.data;c.success(a,{position:c.POSITION.TOP_RIGHT}),d()}).catch(n=>{const{message:a}=n.response.data;c.error(a,{position:c.POSITION.TOP_RIGHT})})},v=()=>{axios.post("/api/case/return/approve",{uid_retur:t}).then(n=>{const{message:a}=n.data;c.success(a,{position:c.POSITION.TOP_RIGHT}),d()}).catch(n=>{const{message:a}=n.response.data;c.error(a,{position:c.POSITION.TOP_RIGHT})})};T(P("role"),["adminsales","leadsales"]);const y=s("div",{children:[(r==null?void 0:r.status)==="0"&&s("div",{children:[s("button",{onClick:()=>{b()},className:"mr-4 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",children:[e(_,{}),e("span",{className:"ml-2",children:"Tolak Pengajuan"})]}),s("button",{onClick:()=>{v()},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",children:[e(O,{}),e("span",{className:"ml-2",children:"Terima Pengajuan"})]})]}),(r==null?void 0:r.status)==="1"&&s("button",{onClick:()=>{N("/order/sales-return/form/"+t)},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",children:[e(C,{}),e("span",{className:"ml-2",children:"Sales Return"})]})]}),h=(r?(u=r==null?void 0:r.retur_items)==null?void 0:u.map((n,a)=>{var m;if(n!=null&&n.product)return{id:n.id,qty:n.qty,product_name:((m=n==null?void 0:n.product)==null?void 0:m.name)||"-",product_photo:n.product_photo_url}}):[]).filter(n=>n);return l?e(p,{title:"Detail Case Return",href:"/case/return",children:e(w,{})}):e(p,{title:"Detail Case Return",rightContent:y,href:"/case/return",children:s("div",{className:"row",children:[e("div",{className:"col-md-6",children:s("div",{className:"card",children:[e("div",{className:"card-header",children:e("div",{className:"h1 card-title",children:"Informasi Pribadi"})}),e("div",{className:"card-body",children:e("table",{className:"w-100",children:s("tbody",{children:[s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Name"})}),s("td",{children:[": ",r==null?void 0:r.name]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Email"})}),s("td",{children:[": ",r==null?void 0:r.email]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Phone"})}),s("td",{children:[": ",(r==null?void 0:r.handphone)||"-"]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Status"})}),s("td",{children:[": ",(r==null?void 0:r.status_return)||"-"]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Address"})}),s("td",{children:[": ",r==null?void 0:r.address]})]})]})})})]})}),e("div",{className:"col-md-6",children:s("div",{className:"card",children:[e("div",{className:"card-header",children:e("div",{className:"h1 card-title",children:"Informasi Pengajuan Komplain"})}),e("div",{className:"card-body",children:e("table",{className:"w-100",children:s("tbody",{children:[s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Complain Type"})}),s("td",{children:[": ",r==null?void 0:r.type_case]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Transaction From"})}),s("td",{children:[": ",r==null?void 0:r.transaction_from]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Transaction Id"})}),s("td",{children:[": ",(r==null?void 0:r.transaction_id)||"-"]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Transfer Photo"})}),s("td",{children:[":"," ",e("span",{children:r!=null&&r.transfer_photo?e("a",{href:r==null?void 0:r.transfer_photo_url,children:"Download Attachment"}):"-"})]})]}),s("tr",{children:[e("td",{className:"py-2",children:e("strong",{children:"Alsan"})}),s("td",{children:[": ",(r==null?void 0:r.alasan)||"-"]})]})]})})})]})}),h.length>0&&e("div",{className:"col-md-12",children:s("div",{className:"card",children:[e("div",{className:"card-header",children:e("div",{className:"h1 card-title",children:"Informasi Product"})}),e("div",{className:"card-body",children:e(g,{dataSource:h,columns:R,loading:l,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"})})]})}),e("div",{className:"col-md-12",children:s("div",{className:"card",children:[e("div",{className:"card-header flex justify-between items-center",children:e("div",{className:"h1 card-title",children:"Informasi Pengembalian Barang"})}),e("div",{className:"card-body",children:e(g,{dataSource:(r==null?void 0:r.retur_resis)||[],columns:S,loading:l,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"})})]})})]})})};export{D as default};
