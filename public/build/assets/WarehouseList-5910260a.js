import{u as T,r as t,b as d,L as j,j as a,T as F,p as N,a as u,D as Y,e as v,f as B,m as K,h as R,E as W,i as m}from"./app-becce45d.js";import{M as $,B as z}from"./ModalFilterTransaction-3897c629.js";import{W as G}from"./config-fff76c12.js";const V=()=>{const g=T(),[p,r]=t.useState(!1),[h,b]=t.useState([]),[k,f]=t.useState(0),[w,C]=t.useState(1),[I,y]=t.useState({}),[c,S]=t.useState([]),o=(e="/api/warehouseAgent",n=10)=>{r(!0),u.post(e,{perpage:n}).then(i=>{const{data:l,total:M,current_page:_}=i.data.data;f(M),C(_);const E=l.map((s,O)=>({key:s.id,id:O+1,name:s.user.name,id_transaksi:s.id_transaksi,created_at:moment(s.created_at).format("DD-MM-YYYY"),nominal:s.nominal,label:s.label}));b(E),r(!1)})};t.useEffect(()=>{o()},[]);const D=(e,n=10)=>{o(`/api/warehouseAgent/?page=${e}`,n)},x=({value:e,label:n})=>a(B,{onClick:({key:i})=>{switch(i){case"detail":g(`/trans-agent/detail/${e}`);break;case"label":window.open(n.label_url);break;case"pengemasan":u.post(`/api/trans-agent/packing-process/${e}`,{value:e}).then(l=>{K.success(l.data.status),o()});break}},itemIcon:a(R,{}),items:[{label:"Detail Pesanan",key:"detail",icon:a(W,{})},{label:"Cetak Label",key:"label",icon:a(m,{})},{label:"Proses Pengemasans",key:"pengemasan",icon:a(m,{})}]}),A={title:"Action",key:"id",fixed:"right",width:100,render:e=>a(Y.Button,{icon:a(v,{}),overlay:a(x,{value:e.key,label:e.label})})},L=e=>{y(e),loadData("/api/transAgent",10,e)},P={selectedRowKeys:c,onChange:e=>{S(e)}};return d(j,{rightContent:d("div",{className:"flex justify-between items-center",children:[a($,{handleOk:L}),a(z,{selectedRowKeys:c})]}),title:"Transaction Agent - Proses Gudang",children:[a(F,{dataSource:h,columns:[...G,A],loading:p,pagination:!1,rowKey:"id",rowClassName:P,scroll:{x:"max-content"},tableLayout:"auto"}),a(N,{defaultCurrent:1,current:w,total:k,className:"mt-4 text-center",onChange:D,pageSizeOptions:["10","20","50","100","200","500"]})]})};export{V as default};
