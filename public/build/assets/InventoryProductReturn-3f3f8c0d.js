import{u as z,r as n,n as A,q as p,b as o,L as M,j as e,I as $,C as q,o as B,T as K,bh as G,p as H,d as J,at as Q,P as U,D as V,f,h as W,bi as X}from"./app-9807f797.js";import{F as Y}from"./FilterModalProduct-5a811f94.js";const te=()=>{const r=z(),[x,v]=n.useState([]),[y,u]=n.useState(!1),[d,C]=n.useState(0),[l,m]=n.useState(""),[b,h]=n.useState(!1),[S,N]=n.useState(1),[k,w]=n.useState({}),[P,i]=n.useState(!1),s=(t="/api/inventory/product/return",a=10,c={})=>{u(!0),axios.post(t,{perpage:a,account_id:p("account_id"),...c}).then(T=>{const{data:_,total:j,current_page:R}=T.data.data;C(j),N(R),v(_),u(!1)})},D=(t,a=10)=>{s(`/api/inventory/product/return/?page=${t}`,a,{search:l,...k})},g=()=>{h(!0),s("/api/inventory/product/return",10,{search:l})},I=t=>{w(t),s("/api/inventory/product/return",10,t)},O=()=>{i(!0),axios.post("/api/inventory/product/stock/export_return").then(t=>{const{data:a}=t.data;window.open(a),i(!1)}).catch(t=>i(!1))};n.useEffect(()=>{s()},[]);const E=!A(p("role"),["leadsales"]),L=o("div",{className:"flex justify-between items-center",children:[o("button",{className:"ml-3 text-white bg-green-800 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center mr-2",onClick:()=>O(),children:[P?e(J,{}):e(Q,{}),e("span",{className:"ml-2",children:"Export"})]}),e(Y,{handleOk:t=>I(t),type:"return"}),E&&o("button",{onClick:()=>r("form"),className:"text-white bg-blueColor hover:bg-blueColor/90 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center ml-2",children:[e(U,{}),e("span",{className:"ml-2",children:"Tambah Produk"})]})]}),F=[{title:"Action",key:"action",fixed:"right",width:100,render:(t,a)=>{const{uid_inventory:c}=a;return e(V.Button,{style:{left:-16},overlay:e(f,{itemIcon:e(W,{}),children:e(f.Item,{icon:e(X,{}),onClick:()=>r(`detail/${c}`),children:"Detail"})})})}}];return o(M,{onClick:()=>r(-1),title:"List Produk Return",rightContent:L,children:[o("div",{className:"row mb-4",children:[e("div",{className:"col-md-12"}),e("div",{className:"col-md-4 col-sm-6 col-12",children:e($,{placeholder:"Cari disini",size:"large",className:"rounded",onPressEnter:()=>g(),suffix:b?e(q,{onClick:()=>{s(),m(null),h(!1)}}):e(B,{onClick:()=>g()}),value:l,onChange:t=>m(t.target.value)})}),e("div",{className:"col-md-8",children:o("strong",{className:"float-right mt-3 text-red-400",children:["Total Data: ",d]})})]}),e(K,{dataSource:x,columns:[...G,...F],loading:y,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"}),e(H,{defaultCurrent:1,current:S,total:d,className:"mt-4 text-center",onChange:D,pageSizeOptions:["10","20","50","100","200","500"]})]})};export{te as default};
