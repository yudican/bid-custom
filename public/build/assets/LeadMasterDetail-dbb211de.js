import{bm as we,r as p,b as n,j as e,bn as ke,P as W,M as Z,F as M,I as B,c as ye,aq as de,U as Te,d as ie,g as Ce,t as x,v as _e,bo as Se,a$ as ce,bp as Ie,ak as T,T as H,ah as K,n as xe,q as Ne,bq as Pe,br as Oe,o as U,bd as Le,s as Me,L as oe,x as Be,bs as re,aZ as ve,a_ as ue,k as he,l as me,w as pe,a as I}from"./app-b58c37d4.js";import{p as Ye,a as ge,n as fe}from"./config-b920202a.js";const Q=({refetch:t,detail:d,initialValues:i={},update:s=!1})=>{const[b]=we(),[l,_]=p.useState(!1),[N,C]=p.useState({attachment:!1}),[u,r]=p.useState({attachment:null}),[k,v]=p.useState({attachment:null}),[P,h]=p.useState(!1),S=()=>{h(!0)},A=()=>{h(!1)},Y=({fileList:f,field:y})=>{const O=f.pop();C({...N,[y]:!0}),setTimeout(()=>{Ce(O.originFileObj,L=>{C({...N,[y]:!1}),r({...u,[y]:L})}),v({...f,[y]:O.originFileObj})},1e3)},E=f=>{_(!0);let y=new FormData;k.attachment&&y.append("attachment",k.attachment),y.append("uid_lead",d.uid_lead),y.append("title",f.title),y.append("description",f.description??"-"),y.append("latitude",(w==null?void 0:w.lat)??0),y.append("longitude",(w==null?void 0:w.lng)??0),y.append("address_name",F??"-"),y.append("start_date",f.start_date.format("YYYY-MM-DD HH:mm:ss")),y.append("end_date",f.end_date.format("YYYY-MM-DD HH:mm:ss")),y.append("result",f.result??"-");let O="/api/lead-master/activity/create";i!=null&&i.id&&(O=`/api/lead-master/activity/update/${i==null?void 0:i.id}`),axios.post(O,y).then(L=>{const{message:j}=L.data;t(),v({attachment:null}),r({attachment:null}),x.success(j,{position:x.POSITION.TOP_RIGHT}),h(!1),_(!1),b.resetFields()}).catch(L=>{const{message:j}=L.response.data;x.error(j,{position:x.POSITION.TOP_RIGHT}),_(!1)})},[F,J]=p.useState(""),[w,D]=p.useState({});return n("div",{children:[s?e("button",{onClick:()=>S(),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",title:"Edit",children:e(ke,{})}):n("button",{onClick:()=>S(),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",children:[e(W,{}),e("span",{className:"ml-2",children:"Tambah Data"})]}),e(Z,{title:s?"Edit Activity":"Tambah Activity",open:P,onOk:()=>{b.submit()},cancelText:"Cancel",onCancel:A,okText:"Simpan",confirmLoading:l,children:e(M,{form:b,name:"basic",layout:"vertical",initialValues:{...i,start_date:moment(i==null?void 0:i.start_date),end_date:moment(i==null?void 0:i.end_date)},onFinish:E,autoComplete:"off",children:n("div",{className:"row",children:[n("div",{className:"col-md-12",children:[e(M.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Field Tidak Boleh Kosong!"}],children:e(B,{})}),e(M.Item,{label:"Description",name:"description",rules:[{message:"Field Tidak Boleh Kosong!"}],children:e(ye,{})}),e(M.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,message:"Field Tidak Boleh Kosong!"}],children:e(de,{className:"w-full",showTime:!0,format:"YYYY-MM-DD HH:mm"})}),e(M.Item,{label:"End Date",name:"end_date",rules:[{required:!0,message:"Field Tidak Boleh Kosong!"}],children:e(de,{className:"w-full",format:"YYYY-MM-DD HH:mm",showTime:!0})}),e(M.Item,{label:"Result",name:"result",rules:[{message:"Field Tidak Boleh Kosong!"}],children:e(B,{})})]}),e("div",{className:"col-md-6",children:e(M.Item,{label:"Attachment",name:"attachment",rules:[{required:!1,message:"Please input Attachment!"}],children:e(Te,{name:"attachment_file",listType:"picture-card",className:"avatar-uploader w-100",showUploadList:!1,multiple:!1,beforeUpload:()=>!1,onChange:f=>Y({...f,field:"attachment"}),children:u.attachment?N.attachment?e(ie,{}):e("img",{src:u.attachment,alt:"avatar",style:{height:104}}):n("div",{style:{width:"100%"},children:[N.attachment?e(ie,{}):e(W,{}),e("div",{style:{marginTop:8,width:"100%"},children:"Upload"})]})})})})]})})})]})},Ae=({handleSubmit:t})=>{const[d,i]=p.useState(!1),[s,b]=p.useState("");return n("div",{children:[n("button",{className:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",onClick:()=>{i(!0)},children:[e(_e,{}),e("span",{className:"",children:"Reject"})]}),e(Z,{title:"Notes",open:d,onOk:()=>{t({notes:s}),i(!1)},onCancel:()=>{i(!1),b("")},children:e("div",{children:n("div",{children:[e("label",{htmlFor:"",children:"Notes"}),e(ye,{placeholder:"Notes",onChange:_=>b(_.target.value)})]})})})]})},je=({order:t=null})=>{var d,i,s,b,l;return n("div",{className:"card",children:[n("div",{className:"card-header flex justify-between items-center",children:[e("h1",{className:"text-lg text-bold ",children:t==null?void 0:t.title}),e("div",{className:`text-xs font-bold 
          ${Se(t==null?void 0:t.status_name)} 
          text-white p-2 rounded-t-full rounded-bl-full`,children:t==null?void 0:t.status_name})]}),n("div",{className:"card-body row",children:[e("div",{className:"col-md-6",children:e("table",{className:"w-100",style:{width:"100%"},children:n("tbody",{children:[n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Contact"})}),n("td",{children:[": ",((d=t==null?void 0:t.contact_user)==null?void 0:d.name)||"-"]})]}),n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Company"})}),n("td",{children:[": ",ce((s=(i=t==null?void 0:t.contact_user)==null?void 0:i.company)==null?void 0:s.name)||"-"]})]}),n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Warehouse"})}),n("td",{children:[": ",ce(t==null?void 0:t.warehouse_name)||"-"]})]}),n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Customer Need"})}),n("td",{children:[": ",(t==null?void 0:t.customer_need)||"-"]})]})]})})}),e("div",{className:"col-md-6",children:e("table",{className:"w-100",style:{width:"100%"},children:n("tbody",{children:[n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"PIC Sales"})}),n("td",{children:[": ",((b=t==null?void 0:t.sales_user)==null?void 0:b.name)||"-"]})]}),n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Created On"})}),n("td",{children:[": ",Ie(t==null?void 0:t.created_at)||"-"]})]}),n("tr",{children:[e("td",{style:{width:"50%"},className:"py-2",children:e("strong",{children:"Created By"})}),n("td",{children:[": ",((l=t==null?void 0:t.create_user)==null?void 0:l.name)||"-"]})]})]})})})]})]})},He=({order:t})=>e("div",{className:"card w-100",children:e("div",{className:"card-body float-right",children:e("table",{children:n("tbody",{children:[n("tr",{children:[e("td",{className:"w-32 md:w-56",children:"Sub Total"}),e("td",{className:"w-4",children:":"}),e("td",{children:`Rp ${T(parseInt(t==null?void 0:t.subtotal))}`})]}),(t==null?void 0:t.tax_amount)>0&&n("tr",{children:[e("td",{className:"w-32 md:w-56",children:"Tax Total"}),e("td",{className:"w-4",children:":"}),e("td",{children:`Rp ${T(parseInt(t==null?void 0:t.tax_amount))}`})]}),(t==null?void 0:t.discount_amount)>0&&n("tr",{children:[e("td",{children:"Diskon"}),e("td",{children:":"}),e("td",{children:`Rp ${T(parseInt(t==null?void 0:t.discount_amount))}`})]}),n("tr",{children:[e("td",{children:"Total"}),e("td",{children:":"}),e("td",{children:`Rp ${T(parseInt(t==null?void 0:t.amount))}`})]})]})})})}),be=({products:t=[],handleChange:d,handleClick:i,onChange:s,data:b=[],taxs:l=[],discounts:_=[],loading:N=!1,disabled:C=!1})=>{const u=Ye.map(r=>({...r,onCell:k=>({record:k,dataIndex:r.dataIndex,products:t,taxs:l,discounts:_,disabled:C,handleChange:v=>d(v),handleClick:v=>i(v),onChange:v=>s(v)})}));return e("div",{children:e(H,{components:{body:{cell:Fe}},dataSource:b,columns:u,loading:N,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"})})},Fe=t=>{const{dataIndex:d,handleChange:i,handleClick:s,onChange:b,record:l,products:_,taxs:N,discounts:C,disabled:u}=t;return l?d==="product_id"?e("td",{children:e(Re,{style:{marginBottom:17},products:_,handleChange:r=>i({value:r,dataIndex:d,key:l.id,uid_lead:l.uid_lead}),disabled:u,value:l==null?void 0:l.product_id})}):d==="tax_id"?e("td",{children:e(K,{style:{marginBottom:17},disabled:u,placeholder:"Select Tax",value:l.tax_id,onChange:r=>{u||i({value:r,dataIndex:d,key:l.id,uid_lead:l.uid_lead})},children:N.map(r=>e(K.Option,{value:r.id,children:r.tax_code},r.id))})}):d==="discount_id"?e("td",{children:e(K,{style:{marginBottom:17},placeholder:"Select Discount",value:l.discount_id,disabled:u||l.disabled_discount,onChange:r=>{u||i({value:r,dataIndex:d,key:l.id,uid_lead:l.uid_lead})},children:C.map(r=>e(K.Option,{value:r.id,children:r.title},r.id))})}):d==="final_price"?e("td",{children:e(B,{disabled:!0,value:l[d],style:{marginBottom:17}})}):d==="price_nego"?n("td",{children:[e(B,{disabled:u||(l==null?void 0:l.disabled_price_nego),value:l[d],type:"number",onChange:r=>{r.target.value>0&&b({value:r.target.value,dataIndex:d,key:l.key,uid_lead:l.uid_lead})},onBlur:()=>{u||i({value:l[d],dataIndex:d,key:l.id,uid_lead:l.uid_lead})}}),xe(Ne("role"),["admin","finance","superadmin"])&&n("span",{children:["Margin: ",l==null?void 0:l.margin_price]})]}):d==="qty"?u?e("td",{children:n("div",{className:"input-group input-spinner mr-3",style:{marginBottom:17},children:[e("button",{className:"btn btn-light btn-xs border",type:"button",disabled:u,children:e("i",{className:"fas fa-minus"})}),e("button",{className:"btn btn-light btn-xs border",type:"button",children:l[d]}),e("button",{className:"btn btn-light btn-xs border",type:"button",disabled:u,children:e("i",{className:"fas fa-plus"})})]})}):e("td",{children:n("div",{className:"input-group input-spinner mr-3",style:{marginBottom:17},children:[e("button",{className:"btn btn-light btn-xs border",type:"button",onClick:()=>s({key:l.id,type:"remove-qty",uid_lead:l.uid_lead}),children:e("i",{className:"fas fa-minus"})}),e(B,{disabled:u,value:l[d],onChange:r=>r.target.value>-1?b({value:r.target.value,dataIndex:d,key:l.key,uid_lead:l.uid_lead}):null,onBlur:r=>{u||i({value:l[d],dataIndex:d,key:l.id,uid_lead:l.uid_lead})},style:{width:"100px"},controls:!1}),e("button",{className:"btn btn-light btn-xs border",type:"button",onClick:()=>s({key:l.id,type:"add-qty",uid_lead:l.uid_lead}),children:e("i",{className:"fas fa-plus"})})]})}):d==="action"?u?e("td",{children:e("button",{className:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",style:{marginBottom:17},children:e(Pe,{})})}):l.key>0?e("td",{children:e("button",{onClick:()=>s({key:l.id,type:"delete",uid_lead:l.uid_lead}),className:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",style:{marginBottom:17},children:e(_e,{})})}):e("td",{children:e("button",{onClick:()=>s({key:l.id,type:"add",uid_lead:l.uid_lead}),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",style:{marginBottom:17},children:e(W,{})})}):e("td",{children:e(B,{value:l[d],disabled:u,style:{marginBottom:17},readOnly:!0})}):e("td",{colSpan:6,children:e("span",{children:"Tidak Ada Data"})})},Re=({products:t,handleChange:d,value:i,disabled:s=!1,style:b})=>{var P;const[l,_]=p.useState(!1),[N,C]=p.useState(null),[u,r]=p.useState(""),k=(P=t==null?void 0:t.find(h=>(h==null?void 0:h.id)===i))==null?void 0:P.name,v=t.filter(h=>h.name.toLowerCase().includes(u))||t;return n("div",{style:b,children:[e(Oe,{title:k,children:s?n("div",{className:"w-96 flex items-center bg-gray-100 border py-1 px-2 rounded-sm line-clamp-1 cursor-pointer",children:[e(U,{className:"mr-2"}),e("span",{children:i?k:"Select Product"})]}):n("div",{className:"w-96 flex items-center border py-1 px-2 rounded-sm line-clamp-1 cursor-pointer",onClick:()=>_(!0),children:[e(U,{className:"mr-2"}),e("span",{children:i?k:"Select Product"})]})}),e(Z,{title:"List Product",open:l,cancelText:"Batal",okText:"Pilih",onOk:()=>{d(N),_(!1)},onCancel:()=>_(!1),width:900,children:n("div",{children:[e(B,{placeholder:"Cari produk disini..",size:"large",className:"rounded mb-4",suffix:e(U,{}),value:u,onChange:h=>r(h.target.value)}),v.map(h=>{var S;return e("div",{className:`
                mb-4 shadow-none rounded-md p-2 cursor-pointer bg-white
                ${N==h.id?"border-[1px] border-blue-400 drop-shadow-md ring-blue-500":"border border-gray-400"}
              `,onClick:()=>{C(h.id)},children:n("div",{className:"flex max-w-[800px] justify-between items-center",children:[n("div",{className:"flex items-center",children:[e("img",{src:h.image_url,alt:"product_photo",className:"mr-4 w-20 h-20 rounded-md border"}),n("div",{children:[n("div",{className:"block text-lg line-clamp-1 font-medium max-w-2xl",children:[h.name," "]}),e("br",{}),n("div",{className:"block",children:["Tersedia di :"," ",(S=h==null?void 0:h.sales_channels)==null?void 0:S.map((A,Y)=>e(Le,{color:"lime",children:A},Y))]})]})]}),n("div",{className:"block text-red-500",children:["Stock Tersedia: ",h.stock_off_market]})]})},h.id)})]})})]})},{TabPane:z}=ve,Ke=()=>{const t=localStorage.getItem("role"),{uid_lead:d}=Me(),i=[{product_id:null,price:null,qty:1,tax_id:null,discount_id:null,final_price:null,total_price:null,uid_lead:d,margin_price:0,price_product:0,price_nego:0,total_price_nego:0,id:0,key:0}],[s,b]=p.useState(null),[l,_]=p.useState(i),[N,C]=p.useState([]),[u,r]=p.useState([]),[k,v]=p.useState(1),[P,h]=p.useState(!1),[S,A]=p.useState([]),[Y,E]=p.useState([]),[F,J]=p.useState([]),[w,D]=p.useState(!1),f=(c=!0)=>{D(c),I.get(`/api/lead-master/detail/${d}`).then(m=>{const{data:o}=m.data;if(b(o),o.product_needs&&o.product_needs.length>0){const g=o.product_needs.map((a,R)=>{var $,se,le;return{key:R,id:a.id,product:(($=a==null?void 0:a.product)==null?void 0:$.name)||"-",product_id:a==null?void 0:a.product_id,price:T((se=a==null?void 0:a.prices)==null?void 0:se.final_price),qty:a==null?void 0:a.qty,total_price:T(((le=a==null?void 0:a.prices)==null?void 0:le.final_price)*(a==null?void 0:a.qty)),final_price:T(a==null?void 0:a.final_price),margin_price:T(a==null?void 0:a.margin_price),discount_id:a==null?void 0:a.discount_id,tax_id:a==null?void 0:a.tax_id,tax_amount:T(a==null?void 0:a.tax_amount),uid_lead:d,price_nego:a==null?void 0:a.price_nego,price_product:T(a==null?void 0:a.price),total_price_nego:T((a==null?void 0:a.price_nego)*(a==null?void 0:a.qty)),disabled_discount:a==null?void 0:a.disabled_discount,disabled_price_nego:a==null?void 0:a.disabled_price_nego}});_(g)}C(o==null?void 0:o.lead_activities),r(o==null?void 0:o.lead_negotiations),D(!1),y(o)})},y=c=>{I.get("/api/master/products/sales-offline").then(m=>{const{data:o}=m.data,g=o.map(a=>{const q=(a.stock_warehouse&&a.stock_warehouse.length>0&&(a==null?void 0:a.stock_warehouse)||[]).find($=>$.id==(c==null?void 0:c.warehouse_id));return{...a,stock_off_market:(q==null?void 0:q.stock)||0}});A(g.sort(function(a,R){return R.stock_off_market-a.stock_off_market}).filter(a=>a))})},O=()=>{I.get("/api/master/taxs").then(c=>{E(c.data.data)})},L=()=>{I.get("/api/master/discounts/sales-offline").then(c=>{J(c.data.data)})};p.useEffect(()=>{f(),O(),L()},[]);const j=c=>{v(c)},X=({dataIndex:c,value:m,key:o})=>{console.log(c,m,"handle change product price");const g=[...l];g[o][c]=m,_(g)},V=({dataIndex:c,value:m,key:o})=>{console.log(c,m,"handle change product");const g=l.find(a=>a.id===o)||{};h(!0),I.post("/api/lead-master/product-needs",{...g,[c]:parseInt(m),final_price:g==null?void 0:g.price_nego,price:g==null?void 0:g.price_product,key:o,item_id:o>0?o:null}).then(a=>{h(!1),f(!1)})},ee=c=>{const m=c.type==="add"?i[0]:{};h(!0),I.post(`/api/lead-master/product-needs/${c.type}`,{...c,...m,item_id:c.key}).then(o=>{const{message:g}=o.data;h(!1),x.success(g,{position:x.POSITION.TOP_RIGHT}),f(!1)})},te=c=>{ee({...c}),l.length===1&&l[0].id===0&&ee({...c})},G=(c,m={})=>{if(c==="save-negotiation"&&!l.every(g=>g.product_id)){x.error("Mohon Pilih Produk Terlebih Dahulu",{position:x.POSITION.TOP_RIGHT});return}I.post(`/api/lead-master/action/${c}`,{uid_lead:d,...m}).then(o=>{const{message:g}=o.data;x.success(g,{position:x.POSITION.TOP_RIGHT}),f()}).catch(o=>{const{message:g}=o.response.data;x.error(g,{position:x.POSITION.TOP_RIGHT})})},ae=c=>{I.post(`/api/lead-master/activity/delete/${c}`,{_method:"DELETE"}).then(m=>{const{message:o}=m.data;x.success(o,{position:x.POSITION.TOP_RIGHT}),f()}).catch(m=>{const{message:o}=m.response.data;x.error(o,{position:x.POSITION.TOP_RIGHT})})};if(w)return e(oe,{title:"Detail",href:"/lead-master",children:e(Be,{})});(s==null?void 0:s.status)==="0"||(s==null||s.status);const ne=!xe(Ne("role"),["adminsales"]);return n(re,{children:[e(oe,{title:"Detail",href:"/lead-master",children:n(ve,{activeKey:`${k}`,onChange:j,children:[e(z,{tab:"Stage 1: Lead Info & Activity",children:n("div",{children:[e(je,{order:s}),n("div",{className:"card",children:[n("div",{className:"card-header flex justify-between items-center",children:[e("h1",{className:"header-title",children:"Lead Activity"}),e(ue,{isTrue:(s==null?void 0:s.status_name)!=="Qualified",children:e(Q,{refetch:()=>f(),detail:{uid_lead:d}})})]}),e("div",{className:"card-body",children:e(H,{scroll:{x:"max-content"},tableLayout:"auto",dataSource:N,columns:[...ge,{title:"Action",key:"id",align:"center",fixed:"right",width:100,render:(c,m)=>{if((s==null?void 0:s.status_name)!=="Qualified")return n("div",{className:"flex justify-between items-center",children:[e(Q,{refetch:()=>f(),detail:{uid_lead:d},initialValues:m,update:!0}),e(he,{title:"Yakin Hapus Data Ini?",onConfirm:()=>ae(m.id),okText:"Yes",cancelText:"No",children:e("button",{className:"ml-2 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",title:"Delete",children:e(me,{})})})]})}}],loading:w,pagination:!1,rowKey:"id"})})]})]})},1),n(z,{tab:"Stage 2: Product Needs",children:[n("div",{className:"card",children:[e("div",{className:"card-header flex justify-between items-center",children:e("h1",{className:"header-title",children:"Product Need"})}),e("div",{className:"card-body",children:e(be,{data:l,products:S,taxs:Y,discounts:F,onChange:X,handleChange:V,handleClick:te,loading:P,disabled:(s==null?void 0:s.status)>"0"&&(s==null?void 0:s.status)!=="9"&&(s==null?void 0:s.status)!=="6"})})]}),e(He,{order:s}),n("div",{className:"card",children:[e("div",{className:"card-header flex justify-between items-center",children:e("h1",{className:"header-title",children:"Negotiation"})}),e("div",{className:"card-body",children:e(H,{dataSource:u,columns:fe,loading:w,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"})})]})]},2),n(z,{tab:"Stage 3: Summary Leads",children:[n("div",{className:"card",children:[e("div",{className:"card-header flex justify-between items-center",children:e("h1",{className:"header-title",children:"Lead Activity"})}),e("div",{className:"card-body",children:e(H,{scroll:{x:"max-content"},tableLayout:"auto",dataSource:N,columns:[...ge,{title:"Action",key:"id",align:"center",fixed:"right",width:100,render:(c,m)=>n("div",{className:"flex justify-between items-center",children:[e(Q,{refetch:()=>f(),detail:{uid_lead:d},initialValues:m,update:!0}),e(he,{title:"Yakin Hapus Data Ini?",onConfirm:()=>ae(m.id),okText:"Yes",cancelText:"No",children:e("button",{className:"ml-2 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center",title:"Delete",children:e(me,{})})})]})}],loading:w,pagination:!1,rowKey:"id"})})]}),e("div",{className:"card-body",children:e(be,{data:l,products:S,taxs:Y,discounts:F,onChange:X,handleChange:V,handleClick:te,loading:P,disabled:(s==null?void 0:s.status)>"0"&&(s==null?void 0:s.status)!=="9"&&(s==null?void 0:s.status)!=="6"})}),n("div",{className:"card",children:[e("div",{className:"card-header flex justify-between items-center",children:e("h1",{className:"header-title",children:"Negotiation"})}),e("div",{className:"card-body",children:e(H,{dataSource:u,columns:fe,loading:w,pagination:!1,rowKey:"id",scroll:{x:"max-content"},tableLayout:"auto"})})]})]},3)]})}),e(ue,{isTrue:t!=="sales"&&(s==null?void 0:s.status)==="2"||(s==null?void 0:s.status)==="0",children:e("div",{className:"card ",children:n("div",{className:"card-body flex justify-end",children:[(s==null?void 0:s.status)==="0"&&k==2&&n("button",{onClick:()=>G("save-negotiation"),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center ml-4",children:[e(pe,{}),e("span",{className:"ml-2",children:"Simpan"})]}),t!=="sales"&&(s==null?void 0:s.status)==="2"&&n(re,{children:[ne&&e(Ae,{handleSubmit:c=>G("reject",c)}),ne&&n("button",{onClick:()=>G("approve"),className:"text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-2 text-center inline-flex items-center ml-4",children:[e(pe,{}),e("span",{className:"ml-2",children:"Approve"})]})]})]})})})]})};export{Ke as default};
