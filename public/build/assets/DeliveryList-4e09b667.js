import{u as O,r as a,b as d,L as T,j as t,T as _,p as j,a as u,D as F,e as Y,f as B,m as K,h as N,E as R,i as $}from"./app-da34ef76.js";import{M as z,B as I}from"./ModalFilterTransaction-594c4175.js";import{D as q}from"./config-c94da4d5.js";const W=()=>{const m=O(),[g,r]=a.useState(!1),[p,h]=a.useState([]),[f,y]=a.useState(0),[D,k]=a.useState(1),[G,C]=a.useState({}),[c,S]=a.useState([]),i=(e="/api/deliveryAgent",s=10)=>{r(!0),u.post(e,{perpage:s}).then(o=>{const{data:l,total:L,current_page:M}=o.data.data;y(L),k(M);const P=l.map((n,E)=>({key:n.id,id:E+1,name:n.user.name,id_transaksi:n.id_transaksi,created_at:moment(n.created_at).format("DD-MM-YYYY"),nominal:n.nominal}));h(P),r(!1)})};a.useEffect(()=>{i()},[]);const b=(e,s=10)=>{i(`/api/contact/?page=${e}`,s)},w=({value:e,label:s})=>t(B,{onClick:({key:o})=>{switch(o){case"detail":m(`/trans-agent/detail/${e}`);break;case"diterima":u.post(`/api/trans-agent/product-receive/${e}`,{value:e}).then(l=>{K.success(l.data.status),i()});break}},itemIcon:t(N,{}),items:[{label:"Detail Pesanan",key:"detail",icon:t(R,{})},{label:"Pesanan Diterima",key:"diterima",icon:t($,{})}]}),x={title:"Action",key:"id",fixed:"right",width:100,render:e=>t(F.Button,{icon:t(Y,{}),overlay:t(w,{value:e.key,label:e.label})})},v=e=>{C(e),loadData("/api/transAgent",10,e)},A={selectedRowKeys:c,onChange:e=>{S(e)}};return d(T,{rightContent:d("div",{className:"flex justify-between items-center",children:[t(z,{handleOk:v}),t(I,{selectedRowKeys:c})]}),title:"Transaction Agent - Pengiriman",children:[t(_,{dataSource:p,columns:[...q,x],loading:g,pagination:!1,rowKey:"id",rowSelection:A,scroll:{x:"max-content"},tableLayout:"auto"}),t(j,{defaultCurrent:1,current:D,total:f,className:"mt-4 text-center",onChange:b,pageSizeOptions:["10","20","50","100","200","500"]})]})};export{W as default};
